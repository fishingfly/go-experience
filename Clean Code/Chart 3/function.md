- [Function](#function)
  - [技巧1: 短小](#技巧1-短小)
  - [技巧2: 只做一件事](#技巧2-只做一件事)
  - [技巧3: 每个函数做一个抽象层级,](#技巧3-每个函数做一个抽象层级)
  - [技巧4: switch语句](#技巧4-switch语句)
  - [技巧5: 使用描述性的语句](#技巧5-使用描述性的语句)
  - [技巧6: 函数参数](#技巧6-函数参数)
  - [技巧7: 动词与关键词](#技巧7-动词与关键词)
  - [技巧8: 无副作用](#技巧8-无副作用)
  - [技巧9: 避免重复代码](#技巧9-避免重复代码)
  - [技巧10: 如何写出这样的函数](#技巧10-如何写出这样的函数)

# Function
## 技巧1: 短小
函数的第一规则是要短小,第二条规则还是要短小.

20行封顶

函数的缩进层级不该多于一层或两层.当然,这样的函数易于阅读和理解.

## 技巧2: 只做一件事
函数应该做一件事.做好这件事.只做这一件事.

函数应该只做同一抽象层级上的事情.

所以,要判断函数是否不止做了一件事情,还有一个方法,就是看是否能再拆出来一个函数,该函数不仅只是单纯的重新诠释其实现.

## 技巧3: 每个函数做一个抽象层级,
要确保函数只做一件事,函数中的语句都要在同一抽象层级上面.

## 技巧4: switch语句
Switch语句天生要做N件事.if else语句也这样.

解决方案:将switch语句埋到抽象工厂地底下,不让任何人看到.

## 技巧5: 使用描述性的语句
函数越短小,功能越集中,就越方便取个好名字.

别害怕长名称,长而具有描述性的名称,要比短而令人费解的名称好.长而具有描述性的名称,要比描述性的长注释好.

## 技巧6: 函数参数
最理想的参数数量是零(没有参数),其次是一,再次是二,尽量避免三个参数. 三个参数以上就用参数对象吧.

## 技巧7: 动词与关键词
给函数取个好名字,能较好地解释函数的意图,以及参数的顺序和意图.对于一元函数,函数和参数应到形成一种非常良好的动词/名次形式.例如writeField(name).

## 技巧8: 无副作用
副作用是一种谎言.函数承诺只做一件事情,但还是会做其他被隐藏的事.有时,他对自己类中的变量做出未能预期的改动.
比如函数checkPassWord(pw string)其中不仅做了密码验证,还做了session初始化,那就是做了两事情,与函数名称不符,使用时会用错.

## 技巧9: 避免重复代码

## 技巧10: 如何写出这样的函数
作者经验: 我写函数时,一开始冗长且复杂,有很多缩进和嵌套循环,有过长的参数列表.名称是随意取得,也有重复代码.不过我会配上一套单元测试,覆盖每一行丑陋的代码.

然后,我打磨这些代码,分解函数,修改名称,消除重复.我缩短和重新安置方法,有时我还拆散类,同时保持测试通过.

最后遵循本章原则,组装好函数.
